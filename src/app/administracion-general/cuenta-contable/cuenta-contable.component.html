<app-workspace-nav>
    <app-general-nav></app-general-nav>
</app-workspace-nav>
<div class='workspace'>
	<div class='main'>
		<div class='menu'>
			<button class='iigwo' (click)='cancel()' style="background: none;margin-right: 24px;margin-left: -12px;">
                <mat-icon svgIcon="arrow-back"></mat-icon>
            </button>
			<label class='home'>Cuenta contable {{subcuenta.codigo}}</label>

			<div *ngIf="idcuenta != 'nueva-cuenta'">
				<button class='iigwo' (click)='refresh()'>
					<mat-icon svgIcon="refresh"></mat-icon>
					<label i18n="@@Refrescar">Refrescar</label>
				</button>

				<button class='iigwo' (click)='eliminar()'>
					<mat-icon svgIcon="delete"></mat-icon>
					<label>Eliminar</label>
				</button>
			</div>

		</div>
		<div class='content'>
			<div class="iigwo-input">
				<label>Código</label>
				<div class="wrapper">
					<input [(ngModel)]="subcuenta.codigo"
					(ngModelChange)="subcuenta.codigo"
					onkeypress='return event.charCode >= 48 && event.charCode <= 57' maxlength='1000' >
				</div>
			</div>

			<div class="iigwo-input">
				<label>Descripción</label>
				<input #description type="text" [(ngModel)]="subcuenta.descripcion" maxlength="45">
			</div>

			<div class="iigwo-input">
				<label>Empresa</label>
				<select [(ngModel)]="subcuenta.empresa" >
                    <option *ngFor="let org of organizacion" [value]="org.rfc">{{org.nombre}}</option> 
                </select>
			</div>

			<div class="iigwo-input">
				<label>Centro de costos</label>
				<input type="text" [(ngModel)]="subcuenta.ceco" maxlength="1000">
			</div>

			<div class="iigwo-input">
				<label>Tipo</label>
				<input type="text" [(ngModel)]="subcuenta.tipo" maxlength="45">
				<p style="margin-top: 2px; font-size: 11px;">Dato no obligatorio, únicamente es para agregar tipo (IVA, NODED, DESC, EXCEDENTE, ISH) esta cuenta no se visualizará al cargar comprobante</p>
			</div>

			<hr style="margin:  24px 0;">

			<button *ngIf="idcuenta !== 'nueva-cuenta'" class='accent iigwo' (click)='guardar()'>
						<label>Guardar</label>
			</button>
			<button *ngIf="idcuenta === 'nueva-cuenta'" class='accent iigwo' (click)='crear()'>
						<label>Crear</label>
			</button>
			<button class='iigwo' (click)='cancel()'>
                    <label i18n="@@Cancelar">Cancelar</label>
            </button>


		</div>


		<!-- MENSAJE ERROR-->
		<div *ngIf="msjerrorTV" class='iigwo-dialog-background'>
			<div class='iigwo-dialog'>
				<h3>{{respuestaTV}}</h3>
				<p>{{msjTV}}</p>
				<!---->
				<button class='iigwo accent' (click)='msjerrorTV = false'><label>Aceptar</label></button>
			</div>
		</div>

		<!-- MENSAJE CARGANDO-->
		<div class='iigwo-loading' *ngIf="cargandoTV">
			<mat-spinner></mat-spinner>
		</div>

		
	</div>
</div>